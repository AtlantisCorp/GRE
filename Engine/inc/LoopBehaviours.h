//
//  LoopBehaviours.h
//  GRE
//
//  Created by Jacques Tronconi on 21/02/2016.
//
//

#ifndef GRE_LoopBehaviours_h
#define GRE_LoopBehaviours_h

#include "Pools.h"

GreBeginNamespace

/// @brief A Behaviour function.
typedef std::function<void (void)> LoopBehaviour;

//////////////////////////////////////////////////////////////////////
/// @brief A Helper class to store Behaviour's functions.
/// Use this class to make any other class able to have custom behaviours
/// on some event, or action.
//////////////////////////////////////////////////////////////////////
class DLL_PUBLIC LoopBehaviours
{
public:
    
    LoopBehaviours();
    ~LoopBehaviours();
    
    //////////////////////////////////////////////////////////////////////
    /// @brief Adds a behaviour.
    //////////////////////////////////////////////////////////////////////
    void add(LoopBehaviour behaviour);
    
    //////////////////////////////////////////////////////////////////////
    /// @brief Clears every behaviours.
    //////////////////////////////////////////////////////////////////////
    void clear();
    
    //////////////////////////////////////////////////////////////////////
    /// @brief Calls every behaviours.
    //////////////////////////////////////////////////////////////////////
    void call();
    
    //////////////////////////////////////////////////////////////////////
    /// @brief Returns every behaviours stored.
    //////////////////////////////////////////////////////////////////////
    const std::vector<LoopBehaviour>& get() const;
    
private:
    
    /// @brief Holds every Behaviours.
    std::vector<LoopBehaviour> _mBehaviours;
};

GreEndNamespace

#endif
